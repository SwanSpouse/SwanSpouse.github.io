---
title: java 单例模式
date: 2018-09-04 22:43:08
tags:
  - java
  - 设计模式
---

### 单例模式定义

Ensure a class has only one instance, and provide a global point of access to it.（确保某一个类只有一个实例，而且自行实例化并向整个系统提供这个实例。）

单例的实现主要是通过以下两个步骤：
* 将构造方法定义为私有方法，这样其他代码就无法通过调用该类的构造方法来实例化该类的对象，只有通过该类提供的静态方法来得到该类的唯一实例；
* 在该类内提供一个静态方法，当调用这个方法时，如果类持有的引用不为空就返回这个引用；如果类持有的引用为空就创建该类的实例并将实例的引用赋值给类持有的引用。


### 单例模式的5种写法

写单例模式的时候应该注意的问题：
* 是否是lazy loading（延迟加载）
* 是否是线程安全的
* 保证线程安全的同时是否也兼顾了效率问题

#### 饿汉模式

#### 懒汉模式

#### 懒汉模式 + 线程安全（同步方法）

#### 懒汉模式 + 线程安全（双重校验）

#### 静态内部类

### reference

* https://www.cnblogs.com/zhaoyan001/p/6365064.html
